function grayscale(e){var t=document.createElement("canvas");var n=t.getContext("2d");var r=new Image;r.src=e;t.width=r.width;t.height=r.height;n.drawImage(r,0,0);var i=n.getImageData(0,0,t.width,t.height);for(var s=0;s<i.height;s++){for(var o=0;o<i.width;o++){var u=s*4*i.width+o*4;var a=(i.data[u]+i.data[u+1]+i.data[u+2])/3;i.data[u]=a;i.data[u+1]=a;i.data[u+2]=a}}n.putImageData(i,0,0,0,0,i.width,i.height);return t.toDataURL()}jQuery(document).ready(function($){function sidebarPosition(){if($(".media_for_js").css("z-index")==479){$("aside.left-sidebar").insertAfter(".post-area")}else{$("aside.left-sidebar").insertBefore(".post-area")}}function headline(){var e=jQuery(".page-header .menu").parents(".container").width();if(e+10>summar_width){jQuery("body").removeClass("mobile");jQuery(".headline").css({"margin-bottom":"0"});jQuery("header  .menu").removeAttr("style");jQuery(".menu .sub-menu, .menu .children").removeAttr("style")}else{jQuery(".menu .sub-menu, .menu .children").animate({height:"hide"},0);jQuery("body").addClass("mobile");jQuery(".absolute").css({position:"relative",top:"0"});jQuery(".headline").css({"margin-bottom":"-54px"});jQuery("header  .menu").css("height","0")}}function item_cont_t1(){$(".container-t1-margin").each(function(){jQuery(this).css("height",Math.ceil(jQuery(this).parent().parent().height())-8+"px");var e=jQuery(this).width()/jQuery(this).height();var t=jQuery(this).find("img");var n=jQuery(this).find(".image-links");var r=jQuery(this).find(".gallery-image-links");var i=jQuery(this).find(".widget_recent_posts_2-fac");var s=t.width()/t.height();n.css("margin-left",(jQuery(this).width()-n.width())/2+"px");r.css("margin-left",(jQuery(this).width()-r.width())/2+"px");i.css("margin-left",(jQuery(this).width()-i.width())/2+"px");if(e>s){t.css({width:"100%",height:"auto",top:-50*(1/s-1/e)*e+"%"})}else if(e<s){t.css({width:"auto",height:"100%",left:-50*(s-e)/e+"%"})}t.css("display","block")});jQuery(".gallery-container .gallery > article, .item-con-t1, .z-tabs").each(function(){var e=jQuery(this);var t=e.is(".trans03linear")||e.is(".isotope-item")?0:500;setTimeout(function(){e.animate({opacity:1},t)},cont_i);cont_i+=100});image_loaded=true}function anim_images(){anim_elem.each(function(){var e=$(this).offset();if($(window).scrollTop()+window.innerHeight>e.top+$(this).height()/2){$(this).addClass("animation_started");setTimeout(function(){$(this).removeClass("animated").removeAttr("style")},3e3)}})}function if_added(e){if(e.hasClass("added")){clearInterval(addi);$("body").append('<div id="added_item"><img src="'+e.parents(".product").find(".attachment-shop_catalog").attr("src")+'" alt=""/><b>"'+e.parents(".product").find("h3").html()+'"</b> was added to the cart. </div>');$("#added_item").fadeIn(500);setTimeout(function(){$("#added_item").animate({opacity:0,marginTop:20},500,function(){$(this).remove()})},2e3)}}function mega_menu(){var e=$("li.mega-menu > .sub-menu");e.each(function(){var e=$(this);e.css({display:"block",visibility:"hidden"});var t=e.children("li").size()*e.children("li").width();var n=-(t/2)+100;e.css({display:"none",visibility:"visible",marginLeft:n});e.width(t)})}function flexsliderInit(){$(".flexslider").each(function(){if(!$(this).parents().is(".top-slider")){$(this).find(".flex-control-nav").remove();var e=0,t=$(".media_for_js").css("z-index");if(t==479){e=1}else if(t==767||t==639){e=2}else{if($(this).hasClass("widget_our_clients-container")){e=5}else if($(this).hasClass("featured-project-slider")){e=4}else{e=3}}var n=$(this).hasClass("fs-inner")?".slides-inner > li":".slides > li";var r=$(this).hasClass("fs-inner")?true:false;if($(this).hasClass("fs-inner")||$(this).hasClass("images-slider")||$(this).hasClass("widget_testimonials-container")||$(this).parent("div").hasClass("flexslider-testimonials")||$(this).parent("div").hasClass("portfolio-gallery")||$(this).parents("article").hasClass("format-gallery")||$(this).parent("section").hasClass("sc-testimonial-slider")){e=1}var i=$(this).is(".gallery-slider")?"fade":"slide";if($(this).is(".thumbnail-slider")){e=5}var s=$(this).hasClass("control-nav")?true:false;$(this).removeData("flexslider").flexslider({animation:i,selector:n,animationLoop:true,itemWidth:200,itemMargin:0,smoothHeight:true,slideshow:r,controlNav:s,directionNav:false,slideshowSpeed:7e3,minItems:e,maxItems:e,startAt:0,move:1});$(this).find(".flex-viewport").each(function(){if($(this).find(n).size()==0){$(this).addClass("rem").hide()}});setTimeout(function(){$(".flex-viewport.rem").remove()},1e3)}});$(".thumbnail-slider li").hover(function(){var e=$(this);$(".thumbnail-slider li").removeClass("flex-active-slide");e.addClass("flex-active-slide");var t=setTimeout(function(){$(".thumbnail-slider li.flex-active-slide").click()},150)},function(){})}function skills_animation(){jQuery(".sc-skillbar .sc-skillbar-bar").each(function(){if(is_visible($(".sc-skillbar .sc-skillbar-bar"))&&$(this).data("play")=="false"){per=jQuery(this).attr("data-percentage");color=jQuery(this).attr("data-color");color_style="";if(color!=""){color_style="background-color: "+color}var e=jQuery(this).parents(".sc-skillbar").hasClass("sc-skillbar-style-2")?"<span></span>":"";jQuery(this).append('<div style="width: 0; '+color_style+'">'+e+"</div>");var t=jQuery(this).children("div");setTimeout(function(){t.css("opacity","1")},0);t.animate({width:per+"%"},{step:function(){var e=jQuery(this).attr("style").match(/\d+/)[0];jQuery(this).find("span").html(parseInt(e)+1+"%")},duration:per*30});$(this).data("play","true")}})}function is_visible(e){var t=e.offset(),n=t.top;if($(window).scrollTop()>n-window.innerHeight*.9){return true}}function round_counter(){$(".sc-counter").each(function(){if(is_visible($(this))&&$(this).data("play")=="false"){var e=$(this).find(".sc-quantity"),t=e.attr("data-quantity"),n=0,r=setInterval(function(){e.html(n);n++;if(n>t){clearInterval(r)}},10);$(this).data("play","true")}})}if($(".rev_slider").size()>0){var rev_id=$(".top-slider .rev_slider").attr("id");rev_id=rev_id.replace("rev_slider_","");rev_id=rev_id.replace("_2","");var revapi_id=eval("revapi"+rev_id);revapi_id.bind("revolution.slide.onloaded",function(e){$(".top-slider").animate({height:$(".rev_slider").height()},300,function(){$(".top-slider").height("auto")})})}if($(".banner-builder").size()>0){setTimeout(function(){$(".top-slider").animate({height:$(".banner-builder").height()},700,function(){$(".top-slider").height("auto")})},1e3)}jQuery.fn.resizeComplete=function(e,t){var n=null;this.resize(function(){if(n){clearTimeout(n)}n=setTimeout(e,t)})};sidebarPosition();jQuery(function(){var e=jQuery(".column_post-media"),t=jQuery(".template-blog-3 .column");e.css("height",e.width()*.5);e.find("iframe").css("height",e.width()*.5);t.isotope({itemSelector:".column_post",resizable:true,animationEngine:"best-available",animationOptions:{duration:800,easing:"swing",queue:false}})});jQuery(window).resizeComplete(function(){var e=jQuery(".column_post-media"),t=jQuery(".template-blog-3 .column");e.css("height",e.width()*.5);e.find("iframe").css("height",e.width()*.5);t.isotope({itemSelector:".column_post",resizable:false,animationEngine:"best-available",animationOptions:{duration:800,easing:"swing",queue:false}});sidebarPosition()},500);var inputs=jQuery(".input-field input, .input-field textarea");inputs.focus(function(){jQuery(this).parents(".input-field").addClass("focus")});inputs.blur(function(){jQuery(this).parents(".input-field").removeClass("focus")});jQuery("#searchform input[type=text]").focus(function(){jQuery(this).parents("form").addClass("focus")});jQuery("#searchform input[type=text]").blur(function(){jQuery(this).parents("form").removeClass("focus")});jQuery(".wysija-input").focus(function(){jQuery(this).addClass("focus")});jQuery(".wysija-input").blur(function(){jQuery(this).removeClass("focus")});jQuery(window).load(function(){var e=jQuery(".post.left .item-con-t1"),t=jQuery(".post.right .item-con-t1"),n=jQuery(".post.center .item-con-t1");e.css("height",e.width()*.77);t.css("height",t.width()*.77);n.css("height",n.width()/2)});jQuery(window).resize(function(){var e=jQuery(".post.left .item-con-t1"),t=jQuery(".post.right .item-con-t1"),n=jQuery(".post.center .item-con-t1");e.css("height",e.width()*.77);t.css("height",t.width()*.77);n.css("height",n.width()/2)});jQuery(".widget_accordion .button, .widget_accordion header").click(function(){if(!jQuery(this).parents(".item").hasClass("active")){if($(this).parents(".widget_accordion").is(".accordion_style3")){jQuery(this).parents(".accordion_style3").find(".item-container").slideUp(500);jQuery(this).parents(".accordion_style3").find(".item").removeClass("active");console.log("close")}jQuery(this).parent().find(".item-container").slideDown(500);jQuery(this).parents(".item").addClass("active");jQuery(this).find("span:first").fadeOut(300)}else{jQuery(this).parent().find(".item-container").slideUp(500);jQuery(this).parents(".item").removeClass("active");jQuery(this).find("span:first").fadeIn(300)}});var summar_width=0;var menu_height=jQuery(".page-header .menu>li>a, .page-header .menu>ul>li>a").size()*44;jQuery(".page-header .menu>li>a, .page-header .menu>ul>li>a").each(function(){summar_width+=jQuery(this).width()+65});jQuery("#menu-btn").click(function(){if(jQuery(".menu").height()>0){jQuery(".menu").animate({height:0},300).removeClass("opened")}else{jQuery(".menu").animate({height:menu_height},300,function(){jQuery(this).removeAttr("style").addClass("opened")})}return false});var cont_i=500;var image_loaded=false;jQuery(window).load(function(){setTimeout(item_cont_t1,2e3);if($(".sc-highlight").size()>0){$(window).scrollTop($(window).scrollTop()+1);setTimeout(function(){$(window).scrollTop($(window).scrollTop()-1)},3e3)}});var ss=0;jQuery(window).resize(function(){});jQuery(window).load(function(){});jQuery(function(){jQuery(".gallery-container .gallery .item-con-t1").each(function(){jQuery(this).css({height:Math.ceil(jQuery(this).width()*.7),"margin-bottom":jQuery(this).css("margin-right")})});var e=jQuery(".gallery-container .gallery"),t=jQuery(".gallery-filters li"),n=t.find("a");e.css("display","block");e.isotope({itemSelector:".item-con-t1",resizable:false,animationEngine:"best-available",animationOptions:{duration:800,easing:"swing",queue:false}});n.click(function(){var n=jQuery(this),r=n.attr("data-filter");if(n.hasClass("selected")){return false}t.find(".selected").removeClass("selected");n.addClass("selected");e.isotope({filter:r});return false})});$("#back_to_top").fadeOut(300);$(window).load().scroll(function(){if($(window).scrollTop()>100){$("#back_to_top").fadeIn(300)}else{$("#back_to_top").fadeOut(300)}});$("#back_to_top").click(function(){$("html,body").animate({scrollTop:0},1e3,"easeInOutQuart");return false});jQuery("a[rel^='prettyPhoto']").prettyPhoto({animation_speed:"fast",slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,social_tools:""});if($("body").hasClass("sticky-menu-on")){setTimeout(function(){$(".headerstyle2 .logo img, .headerstyle4 .logo img").height($(".headerstyle2 .logo img, .headerstyle4 .logo img").height())},500);setTimeout(function(){$(".headerstyle2 .logo img, .headerstyle4 .logo img").css("opacity","1")},800);jQuery(window).scroll(function(){var e;if($("body").hasClass("headerstyle2")){e=$(".preheader").height()}else if($("body").hasClass("headerstyle4")){e=3}else if($("body").hasClass("headerstyle5")){e=35}else{e=100}if(jQuery(window).scrollTop()>e){jQuery("body").addClass("fixed-header");jQuery(".page-header .menu-bg").addClass("fixed")}else{jQuery("body").removeClass("fixed-header");jQuery(".page-header .menu-bg").removeClass("fixed")}})}if($(".banner-wrapper").size()>0){var banner=$(".banner-wrapper");setTimeout(function(){banner.find("#canvasLoader").hide();banner.find(".banner-overlay").animate({opacity:0},500)},4e3);var cl=new CanvasLoader("canvasloader-container");cl.setColor("#2aa3cf");cl.setShape("spiral");cl.setDiameter(48);cl.setDensity(99);cl.setRange(1.2);cl.setSpeed(4);cl.setFPS(43);cl.show()}var anim_block,anim_elem=$(".animated"),gn=1;anim_elem.each(function(){var e=$(this).offset();if($(".group1").size()>0){var t=$(".group"+(gn-1)).offset();prev_el_top=t.top}else{prev_el_top=0}if(e.top==prev_el_top){$(this).addClass("group"+(gn-1))}else{$(this).addClass("group"+gn);gn++}return gn});for(var g=0;g<gn;g++){var i=0;$(".group"+g).each(function(){$(this).css({"-webkit-transition-delay":i+"s","-moz-transition-delay":i+"s","-o-transition-delay":i+"s","-ms-transition-delay":i+"s","transition-delay":i+"s"});i=i+.15})}$(window).scroll(function(){anim_images()});$(window).load(function(){setTimeout(anim_images,300);setTimeout(function(){$(".flexslider").animate({opacity:1},500)},300)});$(".rev-next").click(function(){$(".tp-rightarrow").click();return false});$(".rev-prev").click(function(){$(".tp-leftarrow").click();return false});$(".member-skills span").each(function(){var e=$(this).attr("style").match(/\d+/)[0];$(this).width(0).css("opacity","1").animate({width:e+"%"},2e3)});$(".menu li").each(function(){if($(this).children(".sub-menu, .children").size()>0){$(this).append('<span class="icon-angle-down"></span>').children("a").addClass("has-sub-menu");$(this).children(".sub-menu, .children").animate({height:"hide"},0)}});$(".menu li .has-sub-menu").click(function(){if($("#menu-btn").css("display")=="inline-block"){if($(this).parent("li").hasClass("open")){$(this).siblings(".sub-menu, .children").animate({height:"hide"},300);$(this).parent("li").removeClass("open")}else{$(this).siblings(".sub-menu, .children").animate({height:"show"},300);$(this).parent("li").addClass("open")}return false}else{}});$(".menu li").hover(function(){if($("#menu-btn").css("display")=="none"){$(this).children("ul").fadeIn(200)}},function(){if($("#menu-btn").css("display")=="none"){$(this).children("ul").fadeOut(200)}});$(".no-csstransitions .item-con-t1").hover(function(){$(this).find(".visible-on-hover").stop().animate({opacity:1},400)},function(){$(this).find(".visible-on-hover").stop().animate({opacity:0},400)});$(".top-compact, .bottom-compact").each(function(){$(this).removeAttr("style");var e=$(this).find(".z-tab").size();$(this).find(".z-tab").width(100/e+"%")});$(".widget_out_stuff2 .item-con-t1 header h2").each(function(){var e=$(this);e.html(e.text().replace(/(^\w+)/,"<b>$1</b>"))});$("#control-panel select").change(function(){window.location.href=$(this).find("option:selected").val()});$(".product > .button").wrap('<div class="product-bottom"></div>');$(".product-bottom").each(function(){$(this).append('<a class="product-details" href="'+$(this).parents(".product").children("a").attr("href")+'">Details</a>')});$(".woocommerce-ordering").append('<span>Sort by</span><span class="icon-angle-down"></span>');$("#calc_shipping_country").after('<span class="icon-angle-down"></span>');$(".widget_shopping_cart").prepend('<a id="cart_button"></a>');var cart=$(".widget_shopping_cart_content");$(".widget_shopping_cart_content").stop().animate({opacity:0},500,function(){$(this).hide()});$(".widget_shopping_cart").hover(function(){$(".widget_shopping_cart_content").stop().show().animate({opacity:1},500)},function(){$(".widget_shopping_cart_content").stop().animate({opacity:0},500,function(){$(this).hide()})});var addi;$(".add_to_cart_button").each(function(){var e=$(this);$(this).click(function(){addi=setInterval(function(){if_added(e)},100)})});$("#recent-tweets").flexslider({animation:"fade",controlNav:false,directionNav:false});$(".prev-t3").click(function(){$("#recent-tweets").flexslider("prev")});$(".next-t3").click(function(){$("#recent-tweets").flexslider("next")});var bul;setTimeout(function(){bul=$(".tp-bullets .bullet");if($(".revslider-nav2 li").size()>0){$(".tp-bullets").addClass("nobullets")}return bul},3e3);$(".revslider-nav2 li").click(function(){var e=$(this).index();bul.eq($(this).index()).click()});$(window).load(function(){$(".wpgmappity_container").parent("div").width("100%")});mega_menu();$(window).resizeComplete(function(){flexsliderInit();if(image_loaded){setTimeout(item_cont_t1,300)}},400);$(window).load(function(){flexsliderInit()});$("html").niceScroll({scrollspeed:60,mousescrollstep:35,cursorwidth:12,cursorborder:0,cursorcolor:"#7d7d7d",cursorborderradius:12,autohidemode:false,horizrailenabled:false,zindex:300,hwacceleration:true});jQuery(".sc-divider-scroll").click(function(){jQuery("html, body").animate({scrollTop:0},"slow");return false});jQuery(".sc-skillbar .sc-skillbar-bar").data("play","false");jQuery(".sc-skillbar-vertical .sc-skillbar-bar").each(function(){per=jQuery(this).attr("data-percentage");color=jQuery(this).attr("data-color");color_style="";if(color!=""){color_style="background-color: "+color}jQuery(this).append('<div style="width: 25px; height: 0px; '+color_style+'"></div>');jQuery(this).children("div").delay(1e3).animate({height:per+"%"},per*30)});$(window).scroll(function(){round_counter();skills_animation()});$(".sc-counter").data("play","false")})